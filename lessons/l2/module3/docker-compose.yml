services: 
  postgres: 
    image: timescale/timescaledb:latest-pg16 
    container_name: timescaledb 
    environment: 
      - POSTGRES_USER=admin 
      - POSTGRES_PASSWORD=admin123 
      - POSTGRES_DB=metricsdb 
    ports: 
      - "5432:5432" 
    volumes: 
      - pg_data:/var/lib/postgresql/data 
 
  influxdb: 
    image: influxdb:2.7 
    container_name: influxdb 
    environment: 
      - DOCKER_INFLUXDB_INIT_MODE=setup 
      - DOCKER_INFLUXDB_INIT_USERNAME=admin 
      - DOCKER_INFLUXDB_INIT_PASSWORD=admin123 
      - DOCKER_INFLUXDB_INIT_ORG=example-org 
      - DOCKER_INFLUXDB_INIT_BUCKET=example-bucket 
    ports: 
      - "8086:8086" 
    volumes: 
      - influx_data:/var/lib/influxdb2 
 
  grafana: 
    image: grafana/grafana-oss:11.2.0 
    container_name: grafana 
    environment: 
      - GF_SECURITY_ADMIN_USER=admin 
      - GF_SECURITY_ADMIN_PASSWORD=admin123 
    ports: 
      - "3000:3000" 
    volumes: 
      - grafana_data:/var/lib/grafana 
 
volumes: 
  pg_data: 
  influx_data: 
  grafana_data: